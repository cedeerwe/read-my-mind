{"version":3,"sources":["game/types.tsx","constants.tsx","game/actions.tsx","game/RPS.tsx","game/stats.tsx","game/game.tsx","game/opponents.tsx","game/state.tsx","game/reducer.tsx","game/store.tsx","components/GameStats.tsx","utils.tsx","components/WeaponButton.tsx","components/WeaponBar.tsx","components/GameControls.tsx","components/ColoredWeaponCell.tsx","components/ColoredResultCell.tsx","components/HistoryTable.tsx","components/Game.tsx","components/SummaryTable.tsx","components/Summary.tsx","components/Intro.tsx","components/MainView.tsx","App.tsx","serviceWorker.ts","index.tsx"],"names":["Weapon","BattleResult","NUM_ROUNDS","TOTAL_ROUNDS","changeOpponent","newId","action","AppView","initialBasicStats","wins","draws","losses","score","initialStats","current","best","rounds","beatenBy","w","Rock","Paper","Scissors","Error","randomWeaponPopulation","rocks","papers","scissors","sum","rand","Math","random","randomWeapon","baseStats","addResultToStats","stats","result","Win","Draw","Loss","addResultToBasicStats","checkBestStats","countHistoryOpponentWeapons","history","reduce","pv","cv","opponent","generateWeapon","game","addBattleToGame","me","fight","resetGame","replaceGame","games","gameId","f","map","i","twoWeapons","name","length","state","favoriteWeapon","initialState","battle","maxWins","max","Object","values","threshold","num","op","initGame","activeGameId","activeView","Intro","store","createStore","reducer","type","Basic","BasicWithModal","payload","actions","Game","GameStats","connect","Table","bordered","hover","weaponToString","buttonStyle","margin","WeaponButton","weapon","onClick","disabled","variant","Button","style","size","WeaponBar","isFinished","dispatch","Container","Row","justifyContent","GameControls","onClickNext","onClickPrevious","onClickReset","onClickBack","ColoredWeaponCell","color","ColoredResultCell","backgroundColor","r","resultToString","HistoryTable","end","striped","Array","from","_","opponentName","Col","SummaryTable","allStats","allNames","showModal","onClickPlay","onClickModal","onHide","display","Modal","show","Header","closeButton","Title","Body","Footer","Summary","className","fontSize","MainView","App","Boolean","window","location","hostname","match","ReactDOM","render","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister"],"mappings":"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","file":"static/js/main.8282efa9.chunk.js","sourcesContent":["// GAME LOGIC\n\nexport enum Weapon {\n  Rock = 0,\n  Paper = 1,\n  Scissors = 2\n}\n\nexport enum BattleResult {\n  Win = 'ResultWin',\n  Draw = 'ResultDraw',\n  Loss = 'ResultLoss'\n}\n\nexport type Battle = {\n  me: Weapon;\n  opponent: Weapon;\n  result: BattleResult;\n};\n\nexport type BasicStats = {\n  wins: number;\n  draws: number;\n  losses: number;\n  score: number;\n};\n\nexport type GameStats = {\n  current: BasicStats;\n  best: BasicStats;\n  rounds: number;\n};\n\nexport const initialBasicStats: BasicStats = {\n  wins: 0,\n  draws: 0,\n  losses: 0,\n  score: 0\n};\n\nexport const initialStats: GameStats = {\n  current: initialBasicStats,\n  best: initialBasicStats,\n  rounds: 0\n};\n\nexport type BattleHistory = Battle[];\n\nexport interface Opponent {\n  name: string;\n  generateWeapon: (history: BattleHistory) => Weapon;\n  state?: any;\n}\n\nexport type Game = {\n  opponent: Opponent;\n  history: BattleHistory;\n  stats: GameStats;\n};\n\nexport const initGame = (op: Opponent) => ({\n  opponent: op,\n  history: [],\n  stats: initialStats\n});\n\n// VIEWS\n\nexport enum AppView {\n  Intro = 'AppViewIntro',\n  Basic = 'AppViewBasic',\n  BasicWithModal = 'AppViewBasicWithModal',\n  Game = 'AppViewGame'\n}\n","// ACTIONS\nexport const RESET_STATE = 'resetState';\nexport const RESET_STATE_MODAL = 'resetStateModal';\nexport const BATTLE_OPPONENT = 'battleOpponent';\nexport const CHANGE_OPPONENT = 'changeOpponent';\nexport const INCREMENT_OPPONENT = 'incrementOpponent';\nexport const DECREMENT_OPPONENT = 'decrementOpponent';\nexport const SWITCH_VIEW_TO_BASIC = 'switchViewToBasic';\nexport const SWITCH_VIEW_TO_GAME = 'switchViewToGame';\nexport const SWITCH_VIEW_TO_INTRO = 'switchViewToIntro';\nexport const RESET_GAME = 'resetGame';\nexport const RESET_OPPONENT = 'resetOpponent';\n\n// GAME\nexport const NUM_ROUNDS = 20;\nexport const TOTAL_ROUNDS = 100;\n","import { action } from 'typesafe-actions';\nimport {\n  RESET_STATE,\n  BATTLE_OPPONENT,\n  CHANGE_OPPONENT,\n  INCREMENT_OPPONENT,\n  DECREMENT_OPPONENT,\n  SWITCH_VIEW_TO_BASIC,\n  SWITCH_VIEW_TO_GAME,\n  RESET_OPPONENT,\n  RESET_STATE_MODAL,\n  SWITCH_VIEW_TO_INTRO\n} from '../constants';\nimport { Weapon } from './types';\n\nexport const resetState = () => action(RESET_STATE);\nexport const resetStateModal = () => action(RESET_STATE_MODAL);\nexport const battleOpponent = (me: Weapon) => action(BATTLE_OPPONENT, { me });\nexport const changeOpponent = (newId: number) =>\n  action(CHANGE_OPPONENT, { newId });\nexport const incrementOpponent = () => action(INCREMENT_OPPONENT);\nexport const decrementOpponent = () => action(DECREMENT_OPPONENT);\nexport const switchViewToBasic = () => action(SWITCH_VIEW_TO_BASIC);\nexport const switchViewToGame = (gameId: number) =>\n  action(SWITCH_VIEW_TO_GAME, { gameId });\nexport const switchViewToIntro = () => action(SWITCH_VIEW_TO_INTRO);\nexport const resetOpponent = () => action(RESET_OPPONENT);\n","import { Weapon, BattleResult } from './types'\n\nexport function fight(me: Weapon, opponent: Weapon): BattleResult {\n  switch ((me - opponent + 3) % 3) {\n    case 0:\n      return BattleResult.Draw\n    case 1:\n      return BattleResult.Win\n    case 2:\n      return BattleResult.Loss\n    default:\n      throw Error('WRONG REMAINDER')\n  }\n}\n\nexport function beatenBy(w: Weapon): Weapon {\n  switch (w) {\n    case Weapon.Rock:\n      return Weapon.Paper\n    case Weapon.Paper:\n      return Weapon.Scissors\n    case Weapon.Scissors:\n      return Weapon.Rock\n    default:\n      throw new Error('Enum switch')\n  }\n}\n\nexport function randomWeaponPopulation(rocks: number, papers: number, scissors: number): Weapon {\n  const sum = rocks + papers + scissors\n  const rand = Math.random() * sum\n  if (rand < rocks) {\n    return Weapon.Rock\n  } if (rand < rocks + papers) {\n    return Weapon.Paper\n  }\n  return Weapon.Scissors\n}\n\nexport function randomWeapon(): Weapon {\n  return randomWeaponPopulation(1, 1, 1)\n}\n","import { BasicStats, BattleResult, GameStats } from './types'\n\nconst baseStats: BasicStats = {\n  wins: 0, draws: 0, losses: 0, score: 0,\n}\n\nexport function addResultToBasicStats(stats: BasicStats, result: BattleResult): BasicStats {\n  switch (result) {\n    case BattleResult.Win:\n      return { ...stats, wins: stats.wins + 1, score: stats.score + 1 }\n    case BattleResult.Draw:\n      return { ...stats, draws: stats.draws + 1, score: stats.score + 0.5 }\n    case BattleResult.Loss:\n      return { ...stats, losses: stats.losses + 1 }\n    default:\n      throw new Error('Switching enum')\n  }\n}\n\nexport function checkBestStats(stats: GameStats): GameStats {\n  if (stats.best.score < stats.current.score) {\n    return { ...stats, best: { ...stats.current } }\n  }\n  return stats\n}\n\nexport function addResultToStats(stats: GameStats, result: BattleResult): GameStats {\n  const current = addResultToBasicStats(stats.current, result)\n  return checkBestStats({ ...stats, current, rounds: stats.rounds + 1 })\n}\n\nexport function resetCurrentStats(stats: GameStats): GameStats {\n  return { ...stats, current: baseStats }\n}\n","import { fight } from './RPS';\nimport { addResultToStats, resetCurrentStats } from './stats';\nimport { NUM_ROUNDS, TOTAL_ROUNDS } from '../constants';\nimport { BattleHistory, Weapon, Game } from './types';\n\n// HISTORY\n\nexport function countHistoryMeWeapons(\n  history: BattleHistory,\n  w: Weapon\n): number {\n  return history.reduce((pv, cv) => pv + (cv.me === w ? 1 : 0), 0);\n}\n\nexport function countHistoryOpponentWeapons(\n  history: BattleHistory,\n  w: Weapon\n): number {\n  return history.reduce((pv, cv) => pv + (cv.opponent === w ? 1 : 0), 0);\n}\n\n// GAME\n\nexport function generateWeapon(game: Game): Weapon {\n  return game.opponent.generateWeapon(game.history);\n}\n\nexport function addBattleToGame(\n  me: Weapon,\n  opponent: Weapon\n): (game: Game) => Game {\n  const result = fight(me, opponent);\n  return game => {\n    const history = [...game.history, { me, opponent, result }];\n    const stats = addResultToStats(game.stats, result);\n    return { opponent: game.opponent, history, stats };\n  };\n}\n\nexport function isGameFinished(game: Game): boolean {\n  return game.history.length >= NUM_ROUNDS || game.stats.rounds >= TOTAL_ROUNDS;\n}\n\nexport function resetGame(game: Game): Game {\n  return { ...game, history: [], stats: resetCurrentStats(game.stats) };\n}\n\n// GAMES\n\nexport function replaceGame(\n  games: Game[],\n  gameId: number,\n  f: (game: Game) => Game\n): Game[] {\n  return games.map((game, i) => (i === gameId ? f(game) : game));\n}\n","import { randomWeapon, beatenBy, randomWeaponPopulation } from './RPS';\nimport { Opponent, BattleHistory, Weapon, BattleResult } from './types';\nimport { countHistoryOpponentWeapons } from './game';\n\nexport const oneWeapon: Opponent = {\n  name: 'Alan the Almighty',\n  generateWeapon: (history: BattleHistory) => {\n    if (history.length === 0) {\n      return randomWeapon();\n    }\n    return history[0].opponent;\n  }\n};\n\nexport const beatLast: Opponent = {\n  name: 'Beatrice the Brutal',\n  generateWeapon: (history: BattleHistory) => {\n    if (history.length === 0) {\n      return randomWeapon();\n    }\n    return beatenBy(history[history.length - 1].me);\n  }\n};\n\nexport const randomAlternate: Opponent = {\n  name: 'Cedric the Confused',\n  generateWeapon: (history: BattleHistory) => {\n    if (history.length === 0) {\n      return randomWeapon();\n    }\n    const { opponent } = history[history.length - 1];\n    switch (opponent) {\n      case Weapon.Rock:\n        return randomWeaponPopulation(0, 1, 1);\n      case Weapon.Paper:\n        return randomWeaponPopulation(1, 0, 1);\n      case Weapon.Scissors:\n        return randomWeaponPopulation(1, 1, 0);\n      default:\n        throw new Error('Switching enum');\n    }\n  }\n};\n\nexport const twoWeapons: Opponent = {\n  name: 'Damian the Delicious',\n  generateWeapon: (history: BattleHistory) => {\n    if (history.length === 0) {\n      switch (randomWeapon()) {\n        case Weapon.Rock:\n          twoWeapons.state = [0, 1, 1];\n          break;\n        case Weapon.Paper:\n          twoWeapons.state = [1, 0, 1];\n          break;\n        case Weapon.Scissors:\n          twoWeapons.state = [1, 1, 0];\n          break;\n        default:\n          break;\n      }\n    }\n    return randomWeaponPopulation(\n      twoWeapons.state[0],\n      twoWeapons.state[1],\n      twoWeapons.state[2]\n    );\n  },\n  state: [0, 0, 0]\n};\n\nexport const mostWinning: Opponent = {\n  name: 'Edward the Educated',\n  generateWeapon: (history: BattleHistory) => {\n    const wins = history.reduce(\n      (pv, battle) => {\n        switch (battle.result) {\n          case BattleResult.Draw:\n            return pv;\n          case BattleResult.Win:\n            return { ...pv, [battle.me]: pv[battle.me] + 1 };\n          case BattleResult.Loss:\n            return { ...pv, [battle.opponent]: pv[battle.opponent] + 1 };\n          default:\n            throw new Error('Switching enum');\n        }\n      },\n      { [Weapon.Rock]: 0, [Weapon.Paper]: 0, [Weapon.Scissors]: 0 }\n    );\n    const maxWins = Math.max(...Object.values(wins));\n    if (maxWins === 0) {\n      return randomWeapon();\n    }\n    const threshold = (num: number) => (num === maxWins ? maxWins : 0);\n    return randomWeaponPopulation(\n      threshold(wins[Weapon.Rock]),\n      threshold(wins[Weapon.Paper]),\n      threshold(wins[Weapon.Scissors])\n    );\n  }\n};\n\nexport const randomGuy: Opponent = {\n  name: 'Florian the Fallen',\n  generateWeapon: () => randomWeapon()\n};\n\nexport const favoriteWeapon: Opponent = {\n  name: 'Gregory the Generous',\n  generateWeapon: (history: BattleHistory) => {\n    if (history.length === 0) {\n      switch (randomWeapon()) {\n        case Weapon.Rock:\n          twoWeapons.state = [2, 1, 1];\n          break;\n        case Weapon.Paper:\n          twoWeapons.state = [1, 2, 1];\n          break;\n        case Weapon.Scissors:\n          twoWeapons.state = [1, 1, 2];\n          break;\n        default:\n          break;\n      }\n    }\n    return randomWeaponPopulation(\n      twoWeapons.state[0],\n      twoWeapons.state[1],\n      twoWeapons.state[2]\n    );\n  },\n  state: [0, 0, 0]\n};\n\nexport const proportionalBeat: Opponent = {\n  name: 'Hugo the Hilarious',\n  generateWeapon: (history: BattleHistory) => {\n    if (history.length === 0) {\n      return randomWeapon();\n    }\n    const rocks = countHistoryOpponentWeapons(history, Weapon.Rock);\n    const papers = countHistoryOpponentWeapons(history, Weapon.Paper);\n    const scissors = countHistoryOpponentWeapons(history, Weapon.Scissors);\n    return beatenBy(beatenBy(randomWeaponPopulation(rocks, papers, scissors)));\n  }\n};\n","import {\n  oneWeapon,\n  beatLast,\n  randomAlternate,\n  twoWeapons,\n  mostWinning,\n  randomGuy,\n  favoriteWeapon,\n  proportionalBeat\n} from './opponents';\nimport { Game, AppView, initGame } from './types';\n\n// STATE\n\nexport type State = {\n  games: Game[];\n  activeGameId: number;\n  activeView: AppView;\n};\n\nexport const allOpponents = [\n  oneWeapon,\n  beatLast,\n  randomAlternate,\n  twoWeapons,\n  mostWinning,\n  randomGuy,\n  favoriteWeapon,\n  proportionalBeat\n];\n\nexport const initialState: State = {\n  games: allOpponents.map(op => initGame(op)),\n  activeGameId: 0,\n  activeView: AppView.Intro\n};\n","import { ActionType, Reducer } from 'typesafe-actions';\nimport * as actions from './actions';\nimport { State, initialState } from './state';\nimport {\n  generateWeapon,\n  replaceGame,\n  addBattleToGame,\n  resetGame\n} from './game';\nimport {\n  RESET_STATE,\n  BATTLE_OPPONENT,\n  CHANGE_OPPONENT,\n  INCREMENT_OPPONENT,\n  DECREMENT_OPPONENT,\n  SWITCH_VIEW_TO_GAME,\n  SWITCH_VIEW_TO_BASIC,\n  RESET_OPPONENT,\n  RESET_STATE_MODAL,\n  SWITCH_VIEW_TO_INTRO\n} from '../constants';\nimport { AppView } from './types';\n\nexport type RootAction = ActionType<typeof actions>;\n\nexport const reducer: Reducer<State, RootAction> = (\n  state: State = initialState,\n  action: RootAction\n) => {\n  switch (action.type) {\n    case RESET_STATE:\n      return { ...initialState, activeView: AppView.Basic };\n\n    case RESET_STATE_MODAL:\n      return { ...state, activeView: AppView.BasicWithModal };\n\n    case BATTLE_OPPONENT: {\n      const opponent = generateWeapon(state.games[state.activeGameId]);\n      const games = replaceGame(\n        state.games,\n        state.activeGameId,\n        addBattleToGame(action.payload.me, opponent)\n      );\n      return { ...state, games };\n    }\n    case CHANGE_OPPONENT:\n      return {\n        ...state,\n        activeGameId:\n          (action.payload.newId + state.games.length) % state.games.length\n      };\n\n    case INCREMENT_OPPONENT:\n      return reducer(state, actions.changeOpponent(state.activeGameId + 1));\n\n    case DECREMENT_OPPONENT:\n      return reducer(state, actions.changeOpponent(state.activeGameId - 1));\n\n    case SWITCH_VIEW_TO_BASIC:\n      return { ...state, activeView: AppView.Basic };\n\n    case SWITCH_VIEW_TO_INTRO:\n      return { ...state, activeView: AppView.Intro };\n\n    case SWITCH_VIEW_TO_GAME:\n      return {\n        ...state,\n        activeView: AppView.Game,\n        activeGameId: action.payload.gameId\n      };\n\n    case RESET_OPPONENT:\n      return {\n        ...state,\n        games: replaceGame(state.games, state.activeGameId, resetGame)\n      };\n    default:\n      return state;\n  }\n};\n","import { createStore } from 'redux'\nimport { reducer } from './reducer'\nimport { initialState } from './state'\n\nexport const store = createStore(reducer, initialState)\n","import React from 'react'\nimport Table from 'react-bootstrap/Table'\nimport { connect } from 'react-redux'\nimport { State } from '../game/state'\nimport { NUM_ROUNDS } from '../constants'\n\nconst mapStateToProps = (state: State) => ({\n  stats: state.games[state.activeGameId].stats,\n})\n\ntype GameStatsProps = ReturnType<typeof mapStateToProps>\n\nexport const _GameStats: React.FC<GameStatsProps> = ({ stats }) => (\n  <Table bordered hover>\n    <thead>\n      <tr>\n        <th>\n          Total Rounds:\n          {' '}\n          {stats.rounds}\n          {' '}\n        </th>\n        <th>Wins</th>\n        <th>Losses</th>\n        <th>Draws</th>\n        <th>Score</th>\n      </tr>\n    </thead>\n    <tbody>\n      <tr>\n        <th><b>Current</b></th>\n        <th>{stats.current.wins}</th>\n        <th>{stats.current.losses}</th>\n        <th>{stats.current.draws}</th>\n        <th>\n          {stats.current.score}\n          {' '}\n/\n          {' '}\n          {NUM_ROUNDS}\n        </th>\n      </tr>\n      <tr>\n        <th><b>Best</b></th>\n        <th>{stats.best.wins}</th>\n        <th>{stats.best.losses}</th>\n        <th>{stats.best.draws}</th>\n        <th>\n          {stats.best.score}\n          {' '}\n/\n          {' '}\n          {NUM_ROUNDS}\n        </th>\n      </tr>\n    </tbody>\n  </Table>\n)\n\nexport const GameStats = connect(mapStateToProps)(_GameStats)\n","import { Weapon, BattleResult } from './game/types'\n\nexport function range(end: number): number[] {\n  return Array.from({ length: end }).map((_, i) => i)\n}\n\nexport function weaponToString(w: Weapon): string {\n  switch (w) {\n    case Weapon.Rock:\n      return 'Rock'\n    case Weapon.Paper:\n      return 'Paper'\n    case Weapon.Scissors:\n      return 'Scissors'\n    default:\n      throw new Error('Switching enum')\n  }\n}\n\nexport function resultToString(r: BattleResult): string {\n  switch (r) {\n    case BattleResult.Win:\n      return 'Win'\n    case BattleResult.Loss:\n      return 'Loss'\n    case BattleResult.Draw:\n      return 'Draw'\n    default:\n      throw new Error('Switching enum')\n  }\n}\n","import React from 'react';\nimport Button from 'react-bootstrap/Button';\nimport CSS from 'csstype';\nimport { RootAction } from '../game/reducer';\nimport { weaponToString } from '../utils';\nimport { Weapon } from '../game/types';\n\nconst buttonStyle: CSS.Properties = {\n  margin: '10px'\n};\n\ntype Props = {\n  weapon: Weapon;\n  onClick: (weapon: Weapon) => () => RootAction;\n  disabled: boolean;\n  variant:\n    | 'primary'\n    | 'secondary'\n    | 'success'\n    | 'danger'\n    | 'warning'\n    | 'info'\n    | 'dark'\n    | 'light'\n    | 'link'\n    | 'outline-primary'\n    | 'outline-secondary'\n    | 'outline-success'\n    | 'outline-danger'\n    | 'outline-warning'\n    | 'outline-info'\n    | 'outline-dark'\n    | 'outline-light';\n};\n\nexport const WeaponButton: React.FC<Props> = ({\n  weapon,\n  onClick,\n  disabled,\n  variant\n}) => (\n  <Button\n    style={buttonStyle}\n    variant={variant}\n    size=\"lg\"\n    onClick={onClick(weapon)}\n    disabled={disabled}\n  >\n    {weaponToString(weapon)}\n  </Button>\n);\n","import { Dispatch } from 'redux';\nimport { action } from 'typesafe-actions';\nimport React from 'react';\nimport { connect } from 'react-redux';\nimport Container from 'react-bootstrap/Container';\nimport Row from 'react-bootstrap/Row';\nimport { RootAction } from '../game/reducer';\nimport { BATTLE_OPPONENT } from '../constants';\nimport { State } from '../game/state';\nimport { isGameFinished } from '../game/game';\nimport { WeaponButton } from './WeaponButton';\nimport { Weapon } from '../game/types';\n\nconst mapStateToProps = (state: State) => ({\n  isFinished: isGameFinished(state.games[state.activeGameId])\n});\n\nconst mapDispatchToProps = (dispatch: Dispatch<RootAction>) => ({\n  onClick: (weapon: Weapon) => () =>\n    dispatch(action(BATTLE_OPPONENT, { me: weapon }))\n});\n\ntype WeaponBarProps = ReturnType<typeof mapStateToProps> &\n  ReturnType<typeof mapDispatchToProps>;\n\nconst _WeaponBar: React.FC<WeaponBarProps> = ({ isFinished, onClick }) => (\n  <Container>\n    <Row style={{ justifyContent: 'center' }}>\n      <WeaponButton\n        variant=\"danger\"\n        weapon={Weapon.Rock}\n        onClick={onClick}\n        disabled={isFinished}\n      />\n      <WeaponButton\n        variant=\"success\"\n        weapon={Weapon.Paper}\n        onClick={onClick}\n        disabled={isFinished}\n      />\n      <WeaponButton\n        variant=\"primary\"\n        weapon={Weapon.Scissors}\n        onClick={onClick}\n        disabled={isFinished}\n      />\n    </Row>\n  </Container>\n);\n\nexport const WeaponBar = connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(_WeaponBar);\n","import React, { Dispatch } from 'react'\nimport { action } from 'typesafe-actions'\nimport CSS from 'csstype'\nimport Button from 'react-bootstrap/Button'\nimport { connect } from 'react-redux'\nimport Container from 'react-bootstrap/Container'\nimport Row from 'react-bootstrap/Row'\nimport { RootAction } from '../game/reducer'\nimport {\n  INCREMENT_OPPONENT,\n  DECREMENT_OPPONENT,\n  RESET_OPPONENT,\n  SWITCH_VIEW_TO_BASIC,\n} from '../constants'\n\nconst buttonStyle: CSS.Properties = {\n  margin: '10px',\n}\n\nconst mapDispatchToProps = (dispatch: Dispatch<RootAction>) => ({\n  onClickNext: () => dispatch(action(INCREMENT_OPPONENT)),\n  onClickPrevious: () => dispatch(action(DECREMENT_OPPONENT)),\n  onClickReset: () => dispatch(action(RESET_OPPONENT)),\n  onClickBack: () => dispatch(action(SWITCH_VIEW_TO_BASIC)),\n})\n\ntype GameControlProps = ReturnType<typeof mapDispatchToProps>\n\nconst _GameControls: React.FC<GameControlProps> = ({\n  onClickNext,\n  onClickBack,\n  onClickPrevious,\n  onClickReset,\n}) => (\n  <Container>\n    <Row style={{ justifyContent: 'center' }}>\n      <Button style={buttonStyle} variant=\"secondary\" onClick={onClickPrevious}>\n        Previous Opponent\n      </Button>\n      <Button style={buttonStyle} variant=\"secondary\" onClick={onClickNext}>\n        Next Opponent\n      </Button>\n    </Row>\n    <Row style={{ justifyContent: 'center' }}>\n      <Button style={buttonStyle} variant=\"info\" onClick={onClickReset}>\n        Reset Game\n      </Button>\n      <Button style={buttonStyle} variant=\"info\" onClick={onClickBack}>\n        Back to summary\n      </Button>\n    </Row>\n  </Container>\n)\n\nexport const GameControls = connect(null, mapDispatchToProps)(_GameControls)\n","import React from 'react';\nimport { Weapon } from '../game/types';\nimport { weaponToString } from '../utils';\n\ntype Props = {\n  weapon: Weapon;\n};\n\nexport const ColoredWeaponCell: React.FC<Props> = ({ weapon }) => {\n  const color =\n    weapon === Weapon.Rock ? 'red' : weapon === Weapon.Paper ? 'green' : 'blue';\n  return <th style={{ color }}>{weaponToString(weapon)}</th>;\n};\n","import React from 'react';\nimport { BattleResult } from '../game/types';\nimport { resultToString } from '../utils';\n\ntype Props = {\n  result: BattleResult;\n};\n\nexport const ColoredResultCell: React.FC<Props> = ({ result }) => {\n  const color =\n    result === BattleResult.Win\n      ? 'LightGreen'\n      : result === BattleResult.Draw\n      ? 'PaleGoldenRod'\n      : 'Tomato';\n  return <th style={{ backgroundColor: color }}>{resultToString(result)}</th>;\n};\n","import Table from 'react-bootstrap/Table';\nimport React from 'react';\nimport { connect } from 'react-redux';\nimport { State } from '../game/state';\nimport { NUM_ROUNDS } from '../constants';\nimport { range } from '../utils';\nimport { BattleHistory } from '../game/types';\nimport { ColoredWeaponCell } from './ColoredWeaponCell';\nimport { ColoredResultCell } from './ColoredResultCell';\n\ntype HistoryTableProps = {\n  history: BattleHistory;\n};\n\nconst _HistoryTable: React.FC<HistoryTableProps> = ({ history }) => (\n  <Table striped bordered hover size=\"sm\">\n    <thead>\n      <tr>\n        <th>#</th>\n        <th>Me</th>\n        <th>Opponent</th>\n        <th>Result</th>\n      </tr>\n    </thead>\n    <tbody>\n      {range(NUM_ROUNDS).map(i => {\n        if (i < history.length) {\n          return (\n            <tr>\n              <th>{i + 1}</th>\n              <ColoredWeaponCell weapon={history[i].me} />\n              <ColoredWeaponCell weapon={history[i].opponent} />\n              <ColoredResultCell result={history[i].result} />\n            </tr>\n          );\n        }\n        return (\n          <tr>\n            <th>{i + 1}</th>\n            <th> </th>\n            <th> </th>\n            <th> </th>\n          </tr>\n        );\n      })}\n    </tbody>\n  </Table>\n);\n\nconst mapStateToProps = (state: State) => ({\n  history: state.games[state.activeGameId].history\n});\n\nexport const HistoryTable = connect(mapStateToProps)(_HistoryTable);\n","import React from 'react'\nimport { connect } from 'react-redux'\nimport Container from 'react-bootstrap/Container'\nimport Row from 'react-bootstrap/Row'\nimport Col from 'react-bootstrap/Col'\nimport { State } from '../game/state'\nimport { GameStats } from './GameStats'\nimport { WeaponBar } from './WeaponBar'\nimport { GameControls } from './GameControls'\nimport { HistoryTable } from './HistoryTable'\n\nconst mapStateToProps = (state: State) => ({\n  opponentName: state.games[state.activeGameId].opponent.name,\n})\n\ntype Props = ReturnType<typeof mapStateToProps>\n\nconst _Game: React.FC<Props> = ({ opponentName }) => (\n  <Container>\n    <Row style={{ justifyContent: 'center' }}>\n      <h1>\n        {opponentName}\n      </h1>\n    </Row>\n    <Row>\n      <Col>\n        <GameStats />\n        <GameControls />\n        <hr />\n        <WeaponBar />\n      </Col>\n      <Col>\n        <HistoryTable />\n      </Col>\n    </Row>\n  </Container>\n\n)\n\nexport const Game = connect(mapStateToProps)(_Game)\n","import Table from 'react-bootstrap/Table'\nimport React from 'react'\nimport Button from 'react-bootstrap/Button'\nimport Modal from 'react-bootstrap/Modal'\nimport { Dispatch } from 'redux'\nimport { action } from 'typesafe-actions'\nimport { connect } from 'react-redux'\nimport { RootAction } from '../game/reducer'\nimport {\n  SWITCH_VIEW_TO_GAME,\n  TOTAL_ROUNDS,\n  RESET_STATE,\n  RESET_STATE_MODAL,\n  SWITCH_VIEW_TO_BASIC,\n} from '../constants'\nimport { State } from '../game/state'\nimport { AppView } from '../game/types'\n\nconst mapStateToProps = (state: State) => ({\n  allStats: state.games.map((game) => game.stats),\n  allNames: state.games.map((game) => game.opponent.name),\n  showModal: state.activeView === AppView.BasicWithModal,\n})\n\nconst mapDispatchToProps = (dispatch: Dispatch<RootAction>) => ({\n  onClickPlay: (i: number) => () => dispatch(action(SWITCH_VIEW_TO_GAME, { gameId: i })),\n  onClickModal: () => dispatch(action(RESET_STATE_MODAL)),\n  onClickReset: () => dispatch(action(RESET_STATE)),\n  onHide: () => dispatch(action(SWITCH_VIEW_TO_BASIC)),\n})\n\ntype Props = ReturnType<typeof mapStateToProps> &\nReturnType<typeof mapDispatchToProps>\n\nconst _SummaryTable: React.FC<Props> = ({\n  allStats,\n  allNames,\n  onClickPlay,\n  onClickReset,\n  onClickModal,\n  showModal,\n  onHide,\n}) => (\n  <>\n    <Table bordered striped hover>\n      <thead>\n        <tr>\n          <th>Opponent</th>\n          <th>Current Wins</th>\n          <th>Current Losses</th>\n          <th>Current Draws</th>\n          <th>Current Score</th>\n          <th>Best Wins</th>\n          <th>Best Losses</th>\n          <th>Best Draws</th>\n          <th>Best Score</th>\n          <th>Total Rounds</th>\n          <th>\n            <Button variant=\"danger\" onClick={onClickModal}>\n              RESET\n            </Button>\n          </th>\n        </tr>\n      </thead>\n      <tbody>\n        {allStats.map((stats, i) => (\n          <tr>\n            <th>{allNames[i]}</th>\n            <th>{stats.current.wins}</th>\n            <th>{stats.current.losses}</th>\n            <th>{stats.current.draws}</th>\n            <th>{stats.current.score}</th>\n            <th>{stats.best.wins}</th>\n            <th>{stats.best.losses}</th>\n            <th>{stats.best.draws}</th>\n            <th>{stats.best.score}</th>\n            <th>\n              {stats.rounds}\n              {' '}\n/\n              {' '}\n              {TOTAL_ROUNDS}\n            </th>\n            <th>\n              <Button\n                style={{ margin: 'auto', display: 'block' }}\n                variant=\"primary\"\n                onClick={onClickPlay(i)}\n                disabled={stats.rounds >= TOTAL_ROUNDS}\n              >\n                Play\n              </Button>\n            </th>\n          </tr>\n        ))}\n      </tbody>\n    </Table>\n\n    <Modal show={showModal} onHide={onHide}>\n      <Modal.Header closeButton>\n        <Modal.Title>Reset state</Modal.Title>\n      </Modal.Header>\n      <Modal.Body>\n        This will reset your whole progress, are you sure you want to proceed?\n      </Modal.Body>\n      <Modal.Footer>\n        <Button variant=\"secondary\" onClick={onHide}>\n          Cancel\n        </Button>\n        <Button variant=\"danger\" onClick={onClickReset}>\n          Reset state\n        </Button>\n      </Modal.Footer>\n    </Modal>\n  </>\n)\n\nexport const SummaryTable = connect(\n  mapStateToProps,\n  mapDispatchToProps,\n)(_SummaryTable)\n","import React, { Dispatch } from 'react';\nimport Container from 'react-bootstrap/Container';\nimport Row from 'react-bootstrap/Row';\nimport { SummaryTable } from './SummaryTable';\nimport { SWITCH_VIEW_TO_INTRO } from '../constants';\nimport { connect } from 'react-redux';\nimport Button from 'react-bootstrap/Button';\nimport { RootAction } from '../game/reducer';\nimport { action } from 'typesafe-actions';\n\nconst mapDispatchToProps = (dispatch: Dispatch<RootAction>) => ({\n  onClick: () => dispatch(action(SWITCH_VIEW_TO_INTRO))\n});\n\ntype SummaryProps = ReturnType<typeof mapDispatchToProps>;\n\nconst _Summary: React.FC<SummaryProps> = ({ onClick }) => (\n  <Container>\n    <Row style={{ justifyContent: 'center' }}>\n      <h1>Summary</h1>\n    </Row>\n    <Row style={{ justifyContent: 'center' }}>\n      <SummaryTable />\n    </Row>\n    <Row className=\"d-flex justify-content-end\">\n      <Button variant=\"secondary\" onClick={onClick}>\n        Back to Intro\n      </Button>\n    </Row>\n  </Container>\n);\n\nexport const Summary = connect(null, mapDispatchToProps)(_Summary);\n","import Container from 'react-bootstrap/Container';\nimport React, { Dispatch } from 'react';\nimport Row from 'react-bootstrap/Row';\nimport { TOTAL_ROUNDS, NUM_ROUNDS, SWITCH_VIEW_TO_BASIC } from '../constants';\nimport { RootAction } from '../game/reducer';\nimport { action } from 'typesafe-actions';\nimport Button from 'react-bootstrap/Button';\nimport { connect } from 'react-redux';\n\nconst mapDispatchToProps = (dispatch: Dispatch<RootAction>) => ({\n  onClick: () => dispatch(action(SWITCH_VIEW_TO_BASIC))\n});\n\ntype IntroProps = ReturnType<typeof mapDispatchToProps>;\n\nconst _Intro: React.FC<IntroProps> = ({ onClick }) => (\n  <Container>\n    <Row style={{ justifyContent: 'center' }}>\n      <h1 style={{ fontSize: 40 }}>Read My Mind</h1>\n    </Row>\n    <Row style={{ justifyContent: 'center' }}>\n      <p>\n        Welcome to a little game we call <b>Read My Mind</b>. You will be\n        playing a classic game of rock-paper-scissors against multiple\n        opponents. You can play up to {TOTAL_ROUNDS} rounds against each of the\n        opponents. Your goal is to get the best possible score in a match\n        consisting of {NUM_ROUNDS} single games against each of these opponents.{' '}\n      </p>\n      <p>\n        Each opponent has its own strategy, which is only using the previous\n        rounds of your current match and also randomness. Pay close attention to\n        what they are doing, as only by fully understanding their strategy you\n        will be able to get the best possible scores.\n      </p>\n    </Row>\n    <Row>\n      <p>\n        Now, let us proceed to the summary screen, from where you will be able\n        to control the whole game.\n      </p>\n    </Row>\n    <Row style={{ justifyContent: 'center' }}>\n      <Button onClick={onClick}>I AM READY!</Button>\n    </Row>\n  </Container>\n);\n\nexport const Intro = connect(null, mapDispatchToProps)(_Intro);\n","import React from 'react';\nimport { connect } from 'react-redux';\nimport { State } from '../game/state';\nimport { Game } from './Game';\nimport { Summary } from './Summary';\nimport { AppView } from '../game/types';\nimport { Intro } from './Intro';\n\nconst mapStateToProps = (state: State) => ({\n  activeView: state.activeView\n});\n\ntype Props = ReturnType<typeof mapStateToProps>;\n\nconst _MainView: React.FC<Props> = ({ activeView }) => {\n  switch (activeView) {\n    case AppView.Intro:\n      return <Intro />;\n    case AppView.Basic:\n      return <Summary />;\n    case AppView.BasicWithModal:\n      return <Summary />;\n    case AppView.Game:\n      return <Game />;\n    default:\n      throw new Error('Switching enum');\n  }\n};\n\nexport const MainView = connect(mapStateToProps)(_MainView);\n","import 'bootstrap/dist/css/bootstrap.css'\n\nimport React from 'react'\nimport './App.css'\nimport { Provider } from 'react-redux'\nimport { store } from './game/store'\nimport { MainView } from './components/MainView'\n\nconst App: React.FC = () => (\n  <Provider store={store}>\n    <div className=\"App\">\n      <MainView />\n    </div>\n  </Provider>\n)\n\nexport default App\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === \"localhost\" ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === \"[::1]\" ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\ntype Config = {\n  onSuccess?: (registration: ServiceWorkerRegistration) => void;\n  onUpdate?: (registration: ServiceWorkerRegistration) => void;\n};\n\nexport function register(config?: Config) {\n  if (process.env.NODE_ENV === \"production\" && \"serviceWorker\" in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(\n      (process as { env: { [key: string]: string } }).env.PUBLIC_URL,\n      window.location.href\n    );\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets  see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener(\"load\", () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            \"This web app is being served cache-first by a service \" +\n              \"worker. To learn more, visit https://bit.ly/CRA-PWA\"\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl: string, config?: Config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === \"installed\") {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                \"New content is available and will be used when all \" +\n                  \"tabs for this page are closed. See https://bit.ly/CRA-PWA.\"\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log(\"Content is cached for offline use.\");\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error(\"Error during service worker registration:\", error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl: string, config?: Config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get(\"content-type\");\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf(\"javascript\") === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        \"No internet connection found. App is running in offline mode.\"\n      );\n    });\n}\n\nexport function unregister() {\n  if (\"serviceWorker\" in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react' \nimport ReactDOM from 'react-dom' \nimport './index.css' \nimport App from './App' \nimport * as serviceWorker from './serviceWorker' \n\nReactDOM.render(<App />, document.getElementById('root')) \n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister() \n"],"sourceRoot":""}